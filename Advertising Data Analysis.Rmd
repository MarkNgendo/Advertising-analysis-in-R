---
title: "Blog Advertising Analysis through EDA"
author: "Mark Ngendo"
date: "7/2/2021"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## Specifying the Question
A Kenyan entrepreneur has created an online cryptography course and would want to advertise it on her blog. She currently targets audiences originating from various countries. In the past, she ran ads to advertise a related course on the same blog and collected data in the process. She would now like to employ your services as a Data Science Consultant to help her identify which individuals are most likely to click on her ads.

## Understanding the Context

Digital marketing has become increasingly popular as more and more business shift towards targeting their clients using the internet. As every business rushes to grab its share of online consumers, the question of  what is behind a successful ad becomes increasingly important. Some factors have stood out such as:

* Whether the ad is in text form or not
* Relevance to what the users were searching for
* Whether the users fit the relevant demographic of the ad
* Which websites they use when searching online

## Defining the metric of Success
The study will be considered a success if it can identify which people are likely to click on the clients advertisements given the features available in the data.

## Recording the experimental design
* Loading the data
* Performing Data Cleaning
* Perform Exploratory Data Analysis: 
  +  Uni variate and,
  +  Bi variate analysis
* Provide Insights from analysis
* Provide Recommendations based on insights

## Data Relevance
The data set can be gotten from this [Link](http://bit.ly/IPAdvertisingData)
Below is the glossary:

* Daily time spent - Specifies how many minutes an individual spends on site in a day
* Age -  Age of the individual
* Area Income
* Daily Internet Usage - total minutes spent on the internet by the individual
* Ad Topic Line - title of the Ad presented to the Individual
* City - City the individual resides in
* Male - Binary (0: Female/Not Male, 1: Male)
* Country -  Country the individual resides in
* Time stamp
* Clicked on Ad - Binary(0: No, 1: Yes)

## Objectives
### Overall Objectives
To identify the individuals that are most likely to click on the client's ads

### Specific Objectives
* To identify the blog's key demographic in terms of age group, gender and country of origin.
* To examine the relationship between time spent on the blog and daily internet usage when it comes to clicking on ads.


## Loading the Libraries

```{r}
library(data.table)
library(tidyverse)
```
## Loading the dataset

Previewing the top of the dataset
```{r}
df <- read.csv(("http://bit.ly/IPAdvertisingData"))
head(df)
```

Previewing the tail of the dataset
```{r}
tail(df)
```
```{r}
# viewing the structure of the data

str(df)
```


## Data Cleaning
### Completeness

Checking for Null values

```{r}
colSums(is.na(df))
```
### Consistency

Checking for duplicates

```{r}

df[duplicated(df), ]
```

### Accuracy
```{r}
# casting Male and Clicked on ad as categorical columns

df$Male <- as.factor(df$Male)
df$Clicked.on.Ad <- as.factor(df$Clicked.on.Ad)

# confirming

str(df$Clicked.on.Ad)
str(df$Male)
```


## Univariate Analysis

### Measures of Central tendency

#### Mean
```{r}
site_time.mean <- mean(df$Daily.Time.Spent.on.Site)
site_time.mean

net_time.mean <- mean(df$Daily.Internet.Usage)
net_time.mean

age.mean <- mean(df$Age)
age.mean

income.mean <- mean(df$Area.Income)
income.mean
```

#### Median
```{r}
site_time.median <- median(df$Daily.Time.Spent.on.Site)
site_time.median

net_time.median <- median(df$Daily.Internet.Usage)
net_time.median

age.median <- median(df$Age)
age.median

income.median <- median(df$Area.Income)
income.median
```
#### Mode
```{r}
get_mode <- function(x){
  uniqx <- unique(x)
  uniqx[which.max(tabulate(match(x, uniqx)))]
}

site_time.mode <- get_mode(df$Daily.Time.Spent.on.Site)
site_time.mode

net_time.mode <- get_mode(df$Daily.Internet.Usage)
net_time.mode

age.mode <- get_mode(df$Age)
age.mode

income.mode <- get_mode(df$Area.Income)
income.mode

country.mode <- get_mode(df$Country)
country.mode

gender.mode <- get_mode(df$Male)
gender.mode
```
#### Quantiles

```{r}
site_time.quantiles <- quantile(df$Daily.Time.Spent.on.Site)
site_time.quantiles

net_time.quantiles <- quantile(df$Daily.Internet.Usage)
net_time.quantiles

age.quantiles <- quantile(df$Age)
age.quantiles

income.quantiles <- quantile(df$Area.Income)
income.quantiles

```
### Measures of Dispersion
#### Standard Deviation

```{r}
site_time.sd <- sd(df$Daily.Time.Spent.on.Site)
site_time.sd

net_time.sd <- sd(df$Daily.Internet.Usage)
net_time.sd

age.sd <- sd(df$Age)
age.sd

income.sd <- sd(df$Area.Income)
income.sd

```

#### Variance

```{r}
site_time.var <- var(df$Daily.Time.Spent.on.Site)
site_time.var

net_time.var <- var(df$Daily.Internet.Usage)
net_time.var

age.var <- var(df$Age)
age.var

income.var <- var(df$Area.Income)
income.var
```

### Correlations

```{r}
cor(df[, c('Daily.Time.Spent.on.Site', "Daily.Internet.Usage", "Area.Income", "Age")])
```
The above table shows that the only linearly correlated variables are Daily Internet Usage and Daily Time Spent on Site which makes perfect sense.


### Plots of visualizations

Age distribution

```{r}
hist(x= df$Age, xlab='Age', col="Cyan",
     main="Age Distribution of Users")
```

The plot shows that the majority of site visitors are between age 25 and 40.

```{r}
hist(x=df$Daily.Time.Spent.on.Site, col="magenta", xlab="Daily time on site(minutes)",
     main = "Daily time spent on Blog")
```

From this, it is clear that quite a number of users spend an upward of 60 minutes on the blog's website. It is mainly between 1-1 hour 20 minutes. Though, there are some who spend less than an hour on the site.

```{r}
hist(x=df$Daily.Internet.Usage, xlab="Daily Internet Usage(minutes)", col="orange",
     main="Overall daily internet usage of Users")
```

This graph shows that most users that visit the site spend roughly between 2 to 4 hours in total on the internet.

```{r}
table(df$Male)
```

The above frequency table shows that the site has more female/non-male(0) visitors than males(1).

```{r}
table(df$Clicked.on.Ad)
```

There were an equal number of users who clicked on ads as those who did not.

```{r}
# to inspect the area income distribution
hist(df$Area.Income, col="green", main='Area Income Distribution',
     xlab="Income")
```

The distribution appears to be skewed to the right with most of it being between 45000 and  70,000.

### Bivariate Analaysis

```{r}
# how much time each gender spends on the site
ggplot(data=df, aes(x=Male, y=Daily.Time.Spent.on.Site)) +
  geom_point(size=4) +
  geom_point(aes(color=Clicked.on.Ad), size=4)

```

Both categories of people here seem to spend equal amounts of time on the sight. However, the non-male category seems to click on ads slightly more than their male counterparts.



```{r}
ggplot(data=df, aes(x=Daily.Time.Spent.on.Site, y=Age)) +
  geom_point(size=4) +
  geom_point(aes(color=Clicked.on.Ad), size=4)

```

The visual above has two insights:

* The users that click on ads are mainly between 25 and 60 years of age
* Most users that click on ads spend not more than an hour on the site.

```{r}
ggplot(df, aes(Daily.Time.Spent.on.Site, Area.Income))+
  geom_point(size=4) +
  geom_point(aes(color=Clicked.on.Ad), size=4)
```

* The more time Users spent on the site, the higher the Area Income was.
* The magnitude of the Area Income also seems to be dependent on the clicking on
ads.


## Recommendations

From the above analysis, the following points stand out:

* The demographic of the Blogger consists of:

    + equal numbers of both Male and Non-male users,
    + high numbers of people aged between 25 and 40
    + male users click on ads slightly less than their counterparts.

* The people most likely to click on ads spend not more than 60 minutes in a 
day on the site.

The client should therefore tailor the ads towards meeting the needs of this specific demographic

## Follow up questions
### Did we have the right Data?
Yes we did. It was appropriate enough for the study to move forward.

### Do we need further data to answer the question?
Yes. Ads sorted into different categories can greatly affect the analysis. Having this added information would make it possible to filter out which categories gathered more clicks on ads.

### Did we have the right question?
Yes. After conducting analysis, the data revealed what we set out to investigate and did not make the analyst reevaluate the question of study.